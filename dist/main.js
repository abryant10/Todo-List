(()=>{let e=JSON.parse(localStorage.getItem("taskStorage"))||[],t=JSON.parse(localStorage.getItem("listStorage"))||["Reminders"];function n(){y.innerHTML=JSON.stringify(e)}const o=document.querySelector(".addListButton"),r=document.querySelector(".addListForm"),i=document.getElementById("addListText"),a=document.querySelector(".listNav"),l=document.querySelector(".newTaskButton"),s=document.getElementById("sortBySelector"),c=document.querySelector(".taskFormContainer"),u=document.querySelector(".taskForm"),d=(document.getElementById("taskText"),document.getElementById("listSelector")),y=document.querySelector(".taskViewRenderDiv");function m(){d.innerHTML="",t.forEach((e=>{var t=document.createElement("option");t.value=`${e}`,t.innerHTML=`${e}`,d.appendChild(t)}))}function S(){a.innerHTML="",t.forEach((e=>{var t=document.createElement("button");t.innerHTML=`${e}`,t.classList.add("navButton"),a.appendChild(t)}))}o.addEventListener("click",(function(){r.style.display="block"})),r.addEventListener("submit",(function(e){e.preventDefault();var n=i.value;t.push(n),this.reset(),this.style.display="none",localStorage.setItem("listStorage",JSON.stringify(t)),m(),S()})),l.addEventListener("click",(function(){u.reset(),c.style.display="block"})),s.addEventListener("change",(()=>{console.log(s.value)})),u.addEventListener("submit",(function(t){t.preventDefault();var o=this.querySelector("[name=taskText]").value;if(""==o)return;const r=this.querySelector("[name=taskDueDate]").value,i=this.querySelector("[name=taskNotes]").value,a=this.querySelector("[name=listSelector]").value;var l=function(t){const n=e.filter((e=>e.list==t));return console.log(n),{priority:n.length+1}}(a),s={title:o,list:a,notes:i,dueDate:r,listPriority:e.length+1,allPriority:l,activeStatus:!0};e.push(s),localStorage.setItem("taskStorage",JSON.stringify(e)),n(),c.style.display="none",this.reset()})),window.addEventListener("keydown",(function(e){"Escape"===e.key&&(u.reset(),c.style.display="none")})),m(),n(),S(),window.addEventListener("keydown",(function(e){"block"==c.style.display&&"Enter"===e.key&&u.Submit()}))})();